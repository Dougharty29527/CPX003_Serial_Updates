#:kivy 2.3.0

<AdminScreen>
    md_bg_color: app.theme_cls.onPrimaryColor

    MDNavigationLayout:

        MDScreenManager:

            MDScreen:

                TopBar:

                StatusBar:
                    pos_hint: {'top': .975, 'center_x': .5}

                MDBoxLayout:
                    adaptive_height: True
                    orientation: 'vertical'
                    pos_hint: {'center_x': .5, 'center_y': .5}

                    MDBoxLayout:
                        adaptive_size: True
                        orientation: 'vertical'
                        spacing: '24dp'
                        pos_hint: {'center_x': .5}

                        DefaultBtnContainer:
                            orientation: 'vertical'
                            spacing: '21dp'

                            DefaultBtn:
                                id: about
                                text: 'ABOUT'
                                on_press: root.open_about_screen()

                            DefaultBtn:
                                id: profile
                                text: 'PROFILE'
                                on_press: root.open_profile_screen()

                            DefaultBtn:
                                id: pin_delay
                                text: 'PIN DELAY'
                                on_press: root.open_keypad(keypad_sheet, 'pin_delay')

                            DefaultBtn:
                                id: factory_reset
                                text: 'FACTORY RESET'
                                on_press: root.factory_reset_dialog()

                FullAccessIndicator:

                StatIndicator:

                VersionIndicator:

                SideBar:

        NoDragMDBottomSheet:
            id: keypad_sheet
            size_hint: None, None
            size: '525dp', '372dp'
            background_color: app.theme_cls.surfaceColor

            MDBottomSheetDragHandleButton:
                icon: 'close'
                on_release: keypad_sheet.set_state('toggle')
                pos_hint: {'top': 1, 'right': 1}

            MDScrollView:
                do_scroll_x: False
                do_scroll_y: False

                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True

                    MDBoxLayout:
                        adaptive_height: True
                        size_hint_x: .7
                        orientation: 'vertical'
                        spacing: '12dp'
                        pos_hint: {'center_x': .5}

                        MDBoxLayout:
                            adaptive_width: True
                            size_hint_y: None
                            height: '75dp'
                            pos_hint: {'center_x': .5}
                            padding: [0, 0, 0, '28dp']

                            KeypadTextField:
                                id: input_field
                                text: root.input_string

                        KeypadBtnContainer:
                            padding: [0, '12dp', 0, 0]

                            KeypadBtn:
                                text: '1'
                                on_press: root.add_digit(1)

                            KeypadBtn:
                                text: '2'
                                on_press: root.add_digit(2)

                            KeypadBtn:
                                text: '3'
                                on_press: root.add_digit(3)

                            KeypadBtn:
                                text: '4'
                                on_press: root.add_digit(4)

                            KeypadBtn:
                                text: '5'
                                on_press: root.add_digit(5)

                        KeypadBtnContainer:

                            KeypadBtn:
                                text: '6'
                                on_press: root.add_digit(6)

                            KeypadBtn:
                                text: '7'
                                on_press: root.add_digit(7)

                            KeypadBtn:
                                text: '8'
                                on_press: root.add_digit(8)

                            KeypadBtn:
                                text: '9'
                                on_press: root.add_digit(9)

                            KeypadBtn:
                                text: '0'
                                on_press: root.add_digit(0)

                        KeypadBtnContainer:

                            ActionKeyBtn:
                                size: '173dp', '49dp'
                                icon: 'backspace'
                                text_color: app.theme_cls.tertiaryColor
                                on_press: root.backspace()

                            ActionKeyBtn:
                                size: '173dp', '49dp'
                                icon: 'check-bold'
                                text_color: app.success_color
                                on_press: root.submit()