#:kivy 2.3.0

<PressureCalibrationScreen>
    md_bg_color: '#13202E'

    TopBar:

    MDBoxLayout:
        adaptive_size: True
        pos_hint: {'top': .975, 'center_x': .5}
        StatusBar:

    MDBoxLayout:
        adaptive_size: True
        orientation: 'vertical'
        pos_hint: {'center_x': .5, 'center_y': .5}
        spacing: '30dp'

        MDBoxLayout:
            adaptive_size: True
            orientation: 'vertical'
            spacing: dp(12)
            pos_hint: {'center_x': .5}
            padding: [0, dp(50), 0, 0]
        
            MDLabel:
                id: pressure_calibration_title
                text: 'PRESSURE CALIBRATION'
                font_style: 'Headline'
                role: 'medium'
                theme_text_color: 'Custom'
                text_color: app.theme_cls.secondaryColor
                adaptive_size: True
                pos_hint: {'center_x': .5}
            
            MDBoxLayout:
                adaptive_size: True
                orientation: 'vertical'
                spacing: dp(8)
                pos_hint: {'center_x': .5}
                padding: [dp(12), dp(12), dp(12), 0]
                
                MDBoxLayout:
                    adaptive_size: True
                    orientation: 'vertical'
                    spacing: dp(8)
                    pos_hint: {'center_x': .5}
                    
                    MDLabel:
                        id: calibration_description_line1
                        text: "When you're ready to calibrate the pressure sensor,"
                        theme_text_color: 'Custom'
                        text_color: app.theme_cls.primaryColor
                        adaptive_size: True
                        size_hint_x: .9
                        pos_hint: {'center_x': .5}
                        halign: 'center'
                    
                    MDLabel:
                        id: calibration_description_line2
                        text: 'press the Calibrate button below.'
                        theme_text_color: 'Custom'
                        text_color: app.theme_cls.primaryColor
                        adaptive_size: True
                        size_hint_x: .9
                        pos_hint: {'center_x': .5}
                        halign: 'center'
                
                # Calibrate button
                MDBoxLayout:
                    adaptive_size: True
                    orientation: 'horizontal'
                    spacing: dp(20)
                    pos_hint: {'center_x': .5}
                    padding: [0, dp(40), 0, 0]
                    
                    DefaultBtn:
                        id: calibrate_btn
                        text: 'CALIBRATE'
                        width: dp(200)
                        md_bg_color: '#253849'
                        on_press: root.show_calibration_dialog()
        
        # Continue button removed - now using the completion dialog's accept button instead
    
    # Back button
    MDBoxLayout:
        adaptive_size: True
        orientation: 'vertical'
        pos_hint: {'center_x': .5, 'center_y': .09}
        padding: [0, '27dp', 0, 0]

        BackBtn:
            on_press: root.go_back()

    StatIndicator: