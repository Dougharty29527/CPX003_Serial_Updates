#:kivy 2.3.0

<LanguageSelectionScreen>
    md_bg_color: '#13202E'

    TopBar:

    MDBoxLayout:
        adaptive_size: True
        pos_hint: {'top': .975, 'center_x': .5}

        StatusBar:

    # Main content
    MDBoxLayout:
        adaptive_size: True
        orientation: 'vertical'
        pos_hint: {'center_x': .5, 'center_y': .47}
        spacing: dp(50)

        MDBoxLayout:
            adaptive_size: True
            orientation: 'vertical'
            spacing: dp(24)
            pos_hint: {'center_x': .5}
            padding: [0, dp(50), 0, 0]
        
            OOBETitleLabel:
                text: 'SELECT YOUR LANGUAGE'

            OOBETitleLabel:
                text: 'SELECCIONE SU IDIOMA'

            MDBoxLayout:
                adaptive_size: True
                orientation: 'horizontal'
                spacing: dp(50)
                pos_hint: {'center_x': .5}
                padding: [0, dp(36), 0, 0]
                    
                DefaultBtn:
                    text: 'ENGLISH'
                    on_release: root.on_language_selected('EN')
                    width: dp(200)
                    md_bg_color: '#253849'

                DefaultBtn:
                    text: 'ESPAÃ‘OL'
                    on_release: root.on_language_selected('ES')
                    width: dp(200)
                    md_bg_color: '#253849'
         
        Widget:
    
    # Test icon button in bottom right corner
    TestBtn:
        pos_hint: {'right': .997, 'bottom': .05}
        on_release: root.open_test_keypad()
        
    # Bottom sheet with code entry pad
    NoDragMDBottomSheet:
        id: test_keypad_sheet
        size_hint: None, None
        size: '525dp', '372dp'
        background_color: app.theme_cls.surfaceColor

        MDBottomSheetDragHandleButton:
            icon: 'close'
            on_release: test_keypad_sheet.set_state('toggle')
            pos_hint: {'top': 1, 'right': 1}

        MDScrollView:
            do_scroll_x: False
            do_scroll_y: False

            MDBoxLayout:
                orientation: 'vertical'
                adaptive_height: True

                MDBoxLayout:
                    adaptive_height: True
                    size_hint_x: .7
                    orientation: 'vertical'
                    spacing: dp(12)
                    pos_hint: {'center_x': .5}

                    MDBoxLayout:
                        adaptive_width: True
                        size_hint_y: None
                        height: dp(75)
                        pos_hint: {'center_x': .5}
                        padding: [0, 0, 0, dp(28)]

                        KeypadTextField:
                            id: test_input_field
                            text: ''

                    KeypadBtnContainer:
                        padding: [0, dp(12), 0, 0]

                        KeypadBtn:
                            text: '1'
                            on_press: root.add_character(1)

                        KeypadBtn:
                            text: '2'
                            on_press: root.add_character(2)

                        KeypadBtn:
                            text: '3'
                            on_press: root.add_character(3)

                        KeypadBtn:
                            text: '4'
                            on_press: root.add_character(4)

                        KeypadBtn:
                            text: '5'
                            on_press: root.add_character(5)

                        ActionKeyBtn:
                            icon: 'backspace'
                            size: '62dp', '49dp'
                            text_color: app.theme_cls.tertiaryColor
                            on_press: root.delete_character()

                    KeypadBtnContainer:

                        KeypadBtn:
                            text: '6'
                            on_press: root.add_character(6)

                        KeypadBtn:
                            text: '7'
                            on_press: root.add_character(7)

                        KeypadBtn:
                            text: '8'
                            on_press: root.add_character(8)

                        KeypadBtn:
                            text: '9'
                            on_press: root.add_character(9)

                        KeypadBtn:
                            text: '0'
                            on_press: root.add_character(0)

                        ActionKeyBtn:
                            icon: 'check-bold'
                            size: '62dp', '49dp'
                            text_color: app.success_color
                            on_press: root.submit_code()