#:kivy 2.3.0

<ManualModeScreen>
    md_bg_color: app.theme_cls.onPrimaryColor

    TopBar:

    MDBoxLayout:
        adaptive_size: True
        pos_hint: {'top': .975, 'center_x': .5}

        StatusBar:

    MDBoxLayout:
        adaptive_height: True
        size_hint_x: .687
        orientation: 'vertical'
        pos_hint: {'center_x': .5, 'center_y': .466}
        spacing: '32dp'

        MDBoxLayout:
            adaptive_height: True
            orientation: 'vertical'
            pos_hint: {'center_x': .5}
            spacing: '12dp'
            padding: [0, 0, 0, '12dp']

            MDBoxLayout:
                adaptive_size: True
                spacing: '21dp'
                pos_hint: {'center_x': .5}

                MDButton:
                    disabled: False if root.motor else True
                    radius: '2dp'
                    theme_width: 'Custom'
                    theme_height: 'Custom'
                    width: '67dp'
                    height: '45dp'
                    padding: 0
                    theme_bg_color: 'Custom'
                    md_bg_color: app.success_color if root.motor else app.theme_cls.secondaryContainerColor
                    pos_hint: {'center_x': .5, 'center_y': .5}

                    MDButtonText:
                        text: 'MTR'
                        theme_font_size: 'Custom'
                        font_size: '19sp'
                        theme_text_color: 'Custom'
                        text_color: app.theme_cls.primaryColor if root.motor else app.theme_cls.onSecondaryContainerColor
                        pos_hint: {'center_x': .5, 'center_y': .5}

                MDButton:
                    disabled: False if root.v1 else True
                    radius: '2dp'
                    theme_width: 'Custom'
                    theme_height: 'Custom'
                    width: '67dp'
                    height: '45dp'
                    padding: 0
                    theme_bg_color: 'Custom'
                    md_bg_color: app.success_color if root.v1 else app.theme_cls.secondaryContainerColor
                    pos_hint: {'center_x': .5, 'center_y': .5}

                    MDButtonText:
                        text: 'V1'
                        theme_font_size: 'Custom'
                        font_size: '19sp'
                        theme_text_color: 'Custom'
                        text_color: app.theme_cls.primaryColor if root.v1 else app.theme_cls.onSecondaryContainerColor
                        pos_hint: {'center_x': .5, 'center_y': .5}

                MDButton:
                    disabled: False if root.v2 else True
                    radius: '2dp'
                    theme_width: 'Custom'
                    theme_height: 'Custom'
                    width: '67dp'
                    height: '45dp'
                    padding: 0
                    theme_bg_color: 'Custom'
                    md_bg_color: app.success_color if root.v2 else app.theme_cls.secondaryContainerColor
                    pos_hint: {'center_x': .5, 'center_y': .5}

                    MDButtonText:
                        text: 'V2'
                        theme_font_size: 'Custom'
                        font_size: '19sp'
                        theme_text_color: 'Custom'
                        text_color: app.theme_cls.primaryColor if root.v2 else app.theme_cls.onSecondaryContainerColor
                        pos_hint: {'center_x': .5, 'center_y': .5}

                MDButton:
                    disabled: False if root.v5 else True
                    radius: '2dp'
                    theme_width: 'Custom'
                    theme_height: 'Custom'
                    width: '67dp'
                    height: '45dp'
                    padding: 0
                    theme_bg_color: 'Custom'
                    md_bg_color: app.success_color if root.v5 else app.theme_cls.secondaryContainerColor
                    pos_hint: {'center_x': .5, 'center_y': .5}

                    MDButtonText:
                        text: 'V5'
                        theme_font_size: 'Custom'
                        font_size: '19sp'
                        theme_text_color: 'Custom'
                        text_color: app.theme_cls.primaryColor if root.v5 else app.theme_cls.onSecondaryContainerColor
                        pos_hint: {'center_x': .5, 'center_y': .5}

        DefaultBtnContainer:
            orientation: 'horizontal'

            DefaultBtn:
                id: start
                text: 'START'
                on_press: root.confirm_manual_mode()

            DefaultBtn:
                id: stop
                text: 'STOP'
                on_press: root.stop_manual_cycle()

        MDBoxLayout:
            adaptive_size: True
            spacing: '10dp'
            pos_hint: {'center_x': .5}

            TestTextLabel:
                id: manual_cycle_count
                text: 'MANUAL CYCLES:'
                font_size: '17sp'
                text_color: app.theme_cls.onSurfaceColor

            MDButton:
                radius: '2dp'
                theme_width: 'Custom'
                theme_height: 'Custom'
                width: '62dp'
                height: '30dp'
                padding: 0
                theme_bg_color: 'Custom'
                md_bg_color: app.theme_cls.secondaryContainerColor
                pos_hint: {'center_x': .5, 'center_y': .5}

                MDButtonText:
                    text: root.current_manual_cycle_count
                    theme_font_size: 'Custom'
                    font_size: '19sp'
                    theme_text_color: 'Custom'
                    text_color: app.theme_cls.onSecondaryContainerColor
                    pos_hint: {'center_x': .5, 'center_y': .5}

    MDBoxLayout:  # Back Button
        adaptive_size: True
        orientation: 'vertical'
        pos_hint: {'center_x': .5, 'y': .06}

        BackBtn:
            on_press: app.switch_screen('Contractor')

    FullAccessIndicator:

    StatIndicator:

    VersionIndicator:

    SideBar:
